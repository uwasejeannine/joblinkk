{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JobLink - REBA ABAKORESHA</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #119fa5;
            --secondary-color: #ef8f20;
            --accent-color: #0d7176;
            --dark-primary: #194e4f;
            --text-color: #333;
            --light-text: #f8f9fa;
            --light-bg: #f9f9f9;
            --border-radius: 30px;
            --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }

       

       

        /* Page Banner */
        .page-banner {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('{% static "images/nature.jpg"%}');
            background-size: cover;
            background-position: center;
            padding: 80px 0;
            text-align: center;
            color: white;
            position: relative;
        }

        .page-title {
            font-size: 2.8rem;
            margin-bottom: 20px;
            font-weight: 700;
            line-height: 1.2;
        }

        .breadcrumb {
            display: inline-flex;
            background-color: rgba(255, 255, 255, 0.1);
            padding: 10px 20px;
            border-radius: 30px;
        }

        .breadcrumb a {
            color: white;
            text-decoration: none;
            transition: var(--transition);
        }

        .breadcrumb a:hover {
            color: var(--secondary-color);
        }

        .breadcrumb span {
            margin: 0 10px;
            color: var(--secondary-color);
        }

        /* Search Section */
        .search-section {
            background-color: #f9f9f9;
            padding: 40px 0;
        }

        .search-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .search-form {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: var(--box-shadow);
        }

        .search-group {
            flex: 1;
            min-width: 200px;
        }

        .search-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark-primary);
        }

        .search-input {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 30px;
            font-size: 16px;
            transition: var(--transition);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(17, 159, 165, 0.1);
        }

        .search-button {
            background-color: var(--primary-color);
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 30px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            margin-top: 28px;
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }

        .search-button:hover {
            background-color: var(--dark-primary);
            transform: translateY(-3px);
        }

        /* Employer Card Grid */
        .employers-section {
            padding: 60px 0;
        }

        .employers-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .section-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .section-header h2 {
            font-size: 2.2rem;
            color: var(--dark-primary);
            margin-bottom: 15px;
            position: relative;
            display: inline-block;
        }

        .section-header h2:after {
            content: "";
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background-color: var(--secondary-color);
        }

        .section-header p {
            color: #666;
            max-width: 700px;
            margin: 0 auto;
        }

        .employers-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 30px;
        }

        .employer-card {
            background-color: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
        }

        .employer-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }

        .employer-image {
            height: 220px;
            overflow: hidden;
            position: relative;
        }

        .employer-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .employer-card:hover .employer-image img {
            transform: scale(1.1);
        }

        .employer-category {
            position: absolute;
            top: 15px;
            right: 15px;
            background-color: var(--secondary-color);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            z-index: 1;
        }

        .employer-content {
            padding: 25px;
        }

        .employer-name {
            font-size: 1.4rem;
            margin-bottom: 10px;
            color: var(--dark-primary);
        }

        .employer-position {
            font-size: 1rem;
            color: var(--secondary-color);
            margin-bottom: 15px;
            font-weight: 600;
        }

        .employer-details {
            margin-bottom: 15px;
        }

        .employer-detail-item {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
            color: #666;
        }

        .employer-detail-item i {
            color: var(--primary-color);
            margin-right: 10px;
            font-size: 0.9rem;
            min-width: 20px;
        }

        .employer-requirements {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 20px;
        }

        .requirement-tag {
            background-color: #f0f0f0;
            color: #444;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
        }

        .view-profile-button {
            background-color: var(--primary-color);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 30px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 8px;
            width: 100%;
            justify-content: center;
            text-decoration: none;
        }

        .view-profile-button:hover {
            background-color: var(--dark-primary);
        }

        /* Pagination */
        .pagination {
            display: flex;
            justify-content: center;
            margin-top: 50px;
            gap: 10px;
        }

        .pagination a {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: white;
            color: var(--text-color);
            text-decoration: none;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            transition: var(--transition);
        }

        .pagination a:hover {
            background-color: var(--primary-color);
            color: white;
        }

        .pagination a.active {
            background-color: var(--primary-color);
            color: white;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.6);
        }

        .modal-content {
            background-color: white;
            margin: 50px auto;
            padding: 30px;
            border-radius: 8px;
            width: 90%;
            max-width: 700px;
            box-shadow: 0 5px 30px rgba(0, 0, 0, 0.3);
            position: relative;
            animation: modalfade 0.3s;
        }

        @keyframes modalfade {
            from {opacity: 0; transform: translateY(-30px);}
            to {opacity: 1; transform: translateY(0);}
        }

        .close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 28px;
            font-weight: bold;
            color: #666;
            cursor: pointer;
            transition: var(--transition);
        }

        .close-modal:hover {
            color: #000;
        }

        .modal-title {
            color: var(--dark-primary);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--secondary-color);
        }

        /* Employer Details Modal */
        .employer-modal-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .employer-modal-header img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 20px;
        }

        .employer-modal-header-info h3 {
            font-size: 1.8rem;
            color: var(--dark-primary);
            margin-bottom: 5px;
        }

        .employer-modal-header-info p {
            color: var(--secondary-color);
            font-weight: 600;
        }

        .employer-modal-section {
            margin-bottom: 25px;
        }

        .employer-modal-section h4 {
            font-size: 1.2rem;
            color: var(--dark-primary);
            margin-bottom: 15px;
            padding-bottom: 5px;
            border-bottom: 1px solid #eee;
        }

        .employer-info-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .employer-info-item {
            display: flex;
            align-items: flex-start;
        }

        .employer-info-item i {
            color: var(--primary-color);
            margin-right: 10px;
            margin-top: 3px;
            min-width: 20px;
        }

        .employer-info-item-content {
            flex: 1;
        }

        .employer-info-item-content label {
            display: block;
            font-size: 0.9rem;
            color: #777;
            margin-bottom: 3px;
        }

        .employer-info-item-content p {
            font-weight: 500;
            color: var(--text-color);
        }

        .employer-modal-actions {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            justify-content: flex-end;
        }

        .employer-modal-actions .cancel-button {
            background-color: #6c757d;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 30px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .employer-modal-actions .cancel-button:hover {
            background-color: #5a6268;
        }

        .employer-modal-actions .edit-button {
            background-color: var(--primary-color);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 30px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .employer-modal-actions .edit-button:hover {
            background-color: var(--dark-primary);
        }

        /* Form Group */
        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #444;
        }

        input[type="text"],
        input[type="email"],
        input[type="tel"],
        input[type="password"],
        input[type="number"],
        textarea,
        select {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
            transition: var(--transition);
        }

        input:focus,
        textarea:focus,
        select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(17, 159, 165, 0.1);
        }

        /* Footer */
        footer {
            background: linear-gradient(to right, #119fa5, #0d7176);
            color: #ddd;
            padding: 60px 0 20px;
        }

        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .footer-grid {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-column {
            flex: 1;
            min-width: 200px;
        }

        .footer-column h3 {
            color: white;
            font-size: 1.3rem;
            margin-bottom: 20px;
            position: relative;
            padding-bottom: 10px;
        }

        .footer-column h3:after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            width: 40px;
            height: 2px;
            background-color: var(--secondary-color);
        }

        .footer-contact-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 15px;
        }

        .footer-contact-item i {
            color: var(--secondary-color);
            margin-right: 10px;
            margin-top: 5px;
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 10px;
        }

        .footer-links a {
            color: #ddd;
            text-decoration: none;
            transition: var(--transition);
            display: flex;
            align-items: center;
        }

        .footer-links a i {
            margin-right: 8px;
            font-size: 12px;
            color: var(--secondary-color);
        }

        .footer-links a:hover {
            color: var(--secondary-color);
            padding-left: 5px;
        }

        .footer-social {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .footer-social a {
            width: 40px;
            height: 40px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            transition: var(--transition);
            text-decoration: none;
        }

        .footer-social a:hover {
            background-color: var(--secondary-color);
            transform: translateY(-3px);
        }

        .footer-bottom {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid #333;
            font-size: 0.9rem;
            color: #999;
        }

        /* Animations */
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }

        .fade-in.active {
            opacity: 1;
            transform: translateY(0);
        }

        .delay-1 { transition-delay: 0.1s; }
        .delay-2 { transition-delay: 0.2s; }
        .delay-3 { transition-delay: 0.3s; }

        /* Responsive */
        @media (max-width: 992px) {
            .search-form {
                flex-direction: column;
            }
            
            .search-button {
                margin-top: 10px;
            }
            
            .employer-info-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .top-bar-content,
            .header-content {
                flex-direction: column;
                gap: 10px;
            }
            
            nav ul {
                flex-direction: column;
                align-items: center;
                gap: 10px;
            }
            
            .page-title {
                font-size: 2rem;
            }
            
            .employers-grid {
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            }
            
            .employer-modal-header {
                flex-direction: column;
                text-align: center;
            }
            
            .employer-modal-header img {
                margin-right: 0;
                margin-bottom: 15px;
            }
        }

        @media (max-width: 576px) {
            .employer-card {
                width: 100%;
            }
            
            .employer-modal-actions {
                flex-direction: column;
            }
        }
    </style>

<!-- Header -->
<header>
    <div class="header-content">
        <!-- Mobile Hamburger Menu Button -->
        <button id="mobile-menu-toggle" class="mobile-menu-toggle" aria-label="Toggle menu">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </button>
        
        <nav>
            <ul id="main-menu" class="main-menu">
                <li><a href="{% url 'home' %}" data-en="HOME" data-fr="ACCUEIL" data-rw="AHABANZA">AHABANZA</a></li>
                <li><a href="{% url 'worker' %}" data-en="WORKERS" data-fr="EMPLOYÉS" data-rw="ABAKOZI">ABAKOZI</a></li>
                <li><a href="{% url 'employer' %}" data-en="EMPLOYERS" data-fr="EMPLOYEURS" data-rw="ABAKORESHA">ABAKORESHA</a></li>
                <li><a href="{% url 'view_worker' %}" data-en="VIEW WORKER" data-fr="VOIR EMPLOYÉ" data-rw="REBA UMUKOZI">REBA UMUKOZI</a></li>
                <li><a href="{% url 'view_employers' %}" data-en="VIEW EMPLOYERS" data-fr="VOIR EMPLOYEURS" data-rw="REBA ABAKORESHA">REBA ABAKORESHA</a></li>
                <li><a href="{% url 'what_we_do' %}" data-en="WHAT WE DO" data-fr="NOS SERVICES" data-rw="IBYO DUKORA">IBYO DUKORA</a></li>
                <li><a href="{% url 'announcements' %}" data-en="ANNOUNCEMENTS" data-fr="ANNONCES" data-rw="AMATANGAZO">AMATANGAZO</a></li>
            </ul>
        </nav>
        
        <div class="header-actions">
            <!-- Language Dropdown -->
            <div id="language-dropdown-container" class="language-dropdown-container">
                <button id="language-dropdown-btn" class="language-dropdown-btn">
                    <span id="current-language">RW</span>
                    <span class="dropdown-arrow">▼</span>
                </button>
                <div id="language-dropdown-menu" class="language-dropdown-menu">
                    <div id="lang-rw" class="language-option">RW</div>
                    <div id="lang-en" class="language-option">EN</div>
                    <div id="lang-fr" class="language-option">FR</div>
                </div>
            </div>
            
            <!-- Login Button -->
            <a href="#" class="nav-button" id="openFormButton" data-en="Login" data-fr="Connexion" data-rw="KWINJIRA">KWINJIRA</a>
        </div>
    </div>
</header>

<style>
/* Base styles for header */
header {
    width: 100%;
    background: linear-gradient(to right, #119fa5, #0d7176);
    color: white;
    position: fixed;
    top: 0;
    left: 0;
    z-index: 1000;
}

.header-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 20px;
    max-width: 1200px;
    margin: 0 auto;
    height: 70px;
}

/* Navigation styles */
nav {
    flex: 1;
    
}

.main-menu {
    display: flex;
    list-style: none;
    padding: 0;
    margin: 0;
    gap: 25px;
}

.main-menu li a {
    text-decoration: none;
    color: white;
    font-weight: 600;
    font-size: 16px;
    transition: color 0.3s ease;
}

.main-menu li a:hover {
    color:rgb(245, 246, 248);
}

/* Header actions */
.header-actions {
    display: flex;
    align-items: center;
    gap: 15px;
}

/* Language dropdown styles */
.language-dropdown-container {
    position: relative;
    display: inline-block;
}

.language-dropdown-btn {
    background-color: #f3f4f6;
    border: none;
    padding: 8px 12px;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
    display: flex;
    align-items: center;
}

.dropdown-arrow {
    margin-left: 5px;
    font-size: 10px;
}

.language-dropdown-menu {
    display: none;
    position: absolute;
    right: 0;
    top: 100%;
    background-color: white;
    min-width: 100px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    z-index: 10;
    border-radius: 4px;
}

.language-dropdown-menu.show {
    display: block;
}

.language-option {
    color: #333;
    padding: 10px 12px;
    text-decoration: none;
    display: block;
    font-weight: 500;
    cursor: pointer;
}

.language-option:hover {
    background-color: #f3f4f6;
}

/* Login button styles */
.nav-button {
    background-color: #3b82f6;
    color: white;
    text-decoration: none;
    padding: 8px 16px;
    border-radius: 4px;
    font-weight: bold;
    transition: background-color 0.3s ease;
}

.nav-button:hover {
    background-color: #2563eb;
}

/* Mobile menu toggle button */
.mobile-menu-toggle {
    display: none;
    flex-direction: column;
    justify-content: space-between;
    width: 25px;
    height: 20px;
    background: transparent;
    border: none;
    cursor: pointer;
    padding: 0;
}

.mobile-menu-toggle .bar {
    height: 3px;
    width: 100%;
    background-color: white; /* Changed from #333 to white */
    border-radius: 10px;
    transition: all 0.3s ease-in-out;
}

/* Responsive styles */
@media screen and (max-width: 1024px) {
    .main-menu {
        gap: 15px;
    }
    
    .main-menu li a {
        font-size: 13px;
    }
}

@media screen and (max-width: 768px) {
    .mobile-menu-toggle {
        display: flex;
        order: 1;
    }
    
    nav {
        position: absolute;
        color:#333;
        top: 70px;
        left: 0;
        width: 100%;
        background-color: white;
        box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
        visibility: hidden;
        opacity: 0;
        transition: all 0.3s ease;
        transform: translateY(-10px);
    }
    
    nav.active {
        visibility: visible;
        opacity: 1;
        transform: translateY(0);
    }
    
    .main-menu {
        flex-direction: column;
        gap: 0;
        padding: 10px 0;
    }
    
    .main-menu li {
        width: 100%;
    }
    
    .main-menu li a {
        display: block;
        padding: 15px 20px;
        border-bottom: 1px solid #f3f4f6;
        font-size: 16px;
    }
    
    .header-content {
        justify-content: space-between;
    }
    
    .header-actions {
        order: 2;
    }
    
    /* Hamburger to X animation */
    .mobile-menu-toggle.active .bar:nth-child(1) {
        transform: translateY(9px) rotate(45deg);
    }
    
    .mobile-menu-toggle.active .bar:nth-child(2) {
        opacity: 0;
    }
    
    .mobile-menu-toggle.active .bar:nth-child(3) {
        transform: translateY(-9px) rotate(-45deg);
    }
}

@media screen and (max-width: 480px) {
    .header-content {
        padding: 0 15px;
    }
    
    .language-dropdown-btn {
        padding: 6px 10px;
    }
    
    .nav-button {
        padding: 6px 12px;
        font-size: 13px;
    }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Mobile menu toggle functionality
    const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
    const nav = document.querySelector('nav');
    
    if (mobileMenuToggle && nav) {
        mobileMenuToggle.addEventListener('click', function() {
            mobileMenuToggle.classList.toggle('active');
            nav.classList.toggle('active');
            console.log('Mobile menu toggled');
        });
    }
    
    // Language dropdown functionality - USING DIV STRUCTURE
    const languageDropdownBtn = document.getElementById('language-dropdown-btn');
    const languageDropdownMenu = document.getElementById('language-dropdown-menu');
    const currentLanguage = document.getElementById('current-language');
    const langRw = document.getElementById('lang-rw');
    const langEn = document.getElementById('lang-en');
    const langFr = document.getElementById('lang-fr');
    
    // Toggle dropdown visibility
    if (languageDropdownBtn && languageDropdownMenu) {
        languageDropdownBtn.addEventListener('click', function() {
            languageDropdownMenu.classList.toggle('show');
        });
        
        // Close dropdown when clicking outside
        window.addEventListener('click', function(event) {
            if (!event.target.matches('.language-dropdown-btn') && 
                !event.target.matches('#current-language') && 
                !event.target.matches('.dropdown-arrow')) {
                if (languageDropdownMenu.classList.contains('show')) {
                    languageDropdownMenu.classList.remove('show');
                }
            }
        });
    }
    
    // Language selection function
    function setLanguage(lang) {
        console.log('Setting language to:', lang); // Debug
        
        if (currentLanguage) {
            currentLanguage.textContent = lang.toUpperCase();
        }
        
        // Change text for all elements with data attributes
        const elementsWithLang = document.querySelectorAll('[data-' + lang.toLowerCase() + ']');
        console.log('Found elements with language attributes:', elementsWithLang.length); // Debug
        
        elementsWithLang.forEach(function(element) {
            const langText = element.getAttribute('data-' + lang.toLowerCase());
            if (langText) {
                console.log('Changing text for element:', element, 'to:', langText); // Debug
                element.textContent = langText;
            }
        });
        
        // Close dropdown after selection
        if (languageDropdownMenu) {
            languageDropdownMenu.classList.remove('show');
        }
    }
    
    // Add click events for language options
    if (langRw) {
        langRw.addEventListener('click', function() {
            console.log('RW language clicked'); // Debug
            setLanguage('rw');
        });
    }
    
    if (langEn) {
        langEn.addEventListener('click', function() {
            console.log('EN language clicked'); // Debug
            setLanguage('en');
        });
    }
    
    if (langFr) {
        langFr.addEventListener('click', function() {
            console.log('FR language clicked'); // Debug
            setLanguage('fr');
        });
    }
    
    // Support for original dropdown if it exists
    const languageSelect = document.getElementById('languageSelect');
    if (languageSelect) {
        languageSelect.addEventListener('change', function() {
            const selectedLanguage = this.value;
            console.log('Select dropdown changed to:', selectedLanguage); // Debug
            setLanguage(selectedLanguage);
        });
    }
    
    // Window resize handling
    window.addEventListener('resize', function() {
        if (window.innerWidth > 768) {
            // Reset mobile menu when screen is large enough
            if (mobileMenuToggle && mobileMenuToggle.classList.contains('active')) {
                mobileMenuToggle.classList.remove('active');
            }
            
            if (nav && nav.classList.contains('active')) {
                nav.classList.remove('active');
            }
        }
        
        // Close language dropdown on resize
        if (languageDropdownMenu && languageDropdownMenu.classList.contains('show')) {
            languageDropdownMenu.classList.remove('show');
        }
    });
});
</script>


   <!-- Page Banner -->
<section class="page-banner">
    <div class="hero-content">
        <h1 class="page-title">
            <span data-en="View" data-fr="Voir">Reba</span> 
            <span style="color: var(--secondary-color);" data-en="Qualified Employers" data-fr="Employeurs Qualifiés">Abakoresha Babereye</span>
        </h1>
        <div class="breadcrumb">
            <a href="{% url 'home' %}" data-en="HOME" data-fr="ACCUEIL">AHABANZA</a> 
            <span>/</span> 
            <span data-en="VIEW EMPLOYERS" data-fr="VOIR EMPLOYEURS">REBA ABAKORESHA</span>
        </div>
    </div>
</section>

<!-- Search Section -->
<section class="search-section">
    <div class="search-container">
        <form class="search-form">
            <div class="search-group">
                <label for="category" data-en="Job Category" data-fr="Catégorie d'emploi">Icyiciro cy'akazi</label>
                <select id="category" class="search-input">
                    <option value="" data-en="Select category" data-fr="Sélectionner une catégorie">Hitamo icyiciro</option>
                    <option value="IT" data-en="Information Technology" data-fr="Technologie de l'information">Ikoranabuhanga</option>
                    <option value="Accounting" data-en="Accounting" data-fr="Comptabilité">Ibaruramari</option>
                    <option value="Engineering" data-en="Engineering" data-fr="Ingénierie">Ubuhanga</option>
                    <option value="Healthcare" data-en="Healthcare" data-fr="Santé">Ubuvuzi</option>
                    <option value="Education" data-en="Education" data-fr="Éducation">Uburezi</option>
                </select>
            </div>
            
            <div class="search-group">
                <label for="location" data-en="District" data-fr="District">Akarere</label>
                <select id="location" class="search-input">
                    <option value="" data-en="Select district" data-fr="Sélectionner un district">Hitamo akarere</option>
                    <option value="Kigali">Kigali</option>
                    <option value="Musanze">Musanze</option>
                    <option value="Huye">Huye</option>
                    <option value="Rubavu">Rubavu</option>
                    <option value="Nyagatare">Nyagatare</option>
                </select>
            </div>
            
            <div class="search-group">
                <label for="company" data-en="Company Name" data-fr="Nom de l'entreprise">Izina ry'Ikigo</label>
                <input type="text" id="company" class="search-input" 
                       data-placeholder-rw="Andika izina ry'ikigo..." 
                       data-placeholder-en="Enter company name..." 
                       data-placeholder-fr="Entrez le nom de l'entreprise..." 
                       placeholder="Andika izina ry'ikigo...">
            </div>
            
            <div class="search-group">
                <button type="submit" class="search-button">
                    <i class="fas fa-search"></i> 
                    <span data-en="Search" data-fr="Rechercher">Shakisha</span>
                </button>
            </div>
        </form>
    </div>
</section>



   <!-- Employers Section -->
<section class="employers-section">
    <div class="employers-container">
        <div class="section-header">
            <h2 data-en="Available Employers" data-fr="Employeurs Disponibles">Abakoresha Baboneka</h2>
            <p data-en="Choose employers with jobs matching your skills" data-fr="Choisissez des employeurs avec des emplois correspondant à vos compétences">Hitamo abakoresha bafite imirimo ijyanye n'ubumenyi bwawe</p>
        </div>
        
        <div class="employers-grid">
            {% for employer in employers %}
            <div class="employer-card fade-in">
                <div class="employer-image">
                    <img src="{% static 'images/nature.jpg' %}" alt="{{ employer.company }}">
                    <div class="employer-category">{{ employer.position }}</div>
                </div>
                <div class="employer-content">
                    <h3 class="employer-name">{{ employer.company }}</h3>
                    <p class="employer-position">{{ employer.position }}</p>
                    
                    <div class="employer-details">
                        <div class="employer-detail-item">
                            <i class="fas fa-envelope"></i>
                            <span>{{ employer.email }}</span>
                        </div>
                        <div class="employer-detail-item">
                            <i class="fas fa-phone"></i>
                            <span>{{ employer.phone }}</span>
                        </div>
                        <div class="employer-detail-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>{{ employer.location }}</span>
                        </div>
                    </div>
                    
                    <div class="employer-requirements">
                        <span class="requirement-tag">{{ employer.position }}</span>
                    </div>
                    
                    <button class="view-profile-button" onclick="openEmployerModal({{ employer.id }}, '{{ employer.company }}', '{{ employer.position }}', '{{ employer.email }}', '{{ employer.phone }}', '{{ employer.location }}', '{{ employer.job_description }}', '{{ employer.job_requirements }}')">
                        <i class="fas fa-building"></i> 
                        <span data-en="View Details" data-fr="Voir Détails">Reba Ibisobanuro</span>
                    </button>
                </div>
            </div>
            {% empty %}
            <!-- Sample Employer Cards (shown if no employers in database) -->
            <!-- Employer Card 1 -->
            <div class="employer-card fade-in">
                <div class="employer-image">
                    <img src="{% static 'images/nature.jpg' %}" alt="Employer Image">
                    <div class="employer-category" data-en="Information Technology" data-fr="Technologie de l'Information">Ikoranabuhanga</div>
                </div>
                <div class="employer-content">
                    <h3 class="employer-name">RwandaTech Solutions</h3>
                    <p class="employer-position">Software Developer</p>
                    
                    <div class="employer-details">
                        <div class="employer-detail-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Kigali, Rwanda</span>
                        </div>
                        <div class="employer-detail-item">
                            <i class="fas fa-envelope"></i>
                            <span>jobs@rwandatech.com</span>
                        </div>
                        <div class="employer-detail-item">
                            <i class="fas fa-phone"></i>
                            <span>+250 788 123 456</span>
                        </div>
                    </div>
                    
                    <div class="employer-requirements">
                        <span class="requirement-tag">JavaScript</span>
                        <span class="requirement-tag">React</span>
                        <span class="requirement-tag">Python</span>
                    </div>
                    
                    <button class="view-profile-button" onclick="openSampleEmployerModal('RwandaTech Solutions', 'Software Developer', 'jobs@rwandatech.com', '+250 788 123 456', 'Kigali', 'We are looking for a skilled software developer to join our team. You will be responsible for developing and maintaining our web applications.', 'Bachelors degree in Computer Science, 2+ years experience with JavaScript and React.')">
                        <i class="fas fa-building"></i> 
                        <span data-en="View Details" data-fr="Voir Détails">Reba Ibisobanuro</span>
                    </button>
                </div>
            </div>
            
            <!-- Employer Card 2 -->
            <div class="employer-card fade-in delay-1">
                <div class="employer-image">
                    <img src="{% static 'images/nature.jpg' %}" alt="Employer Image">
                    <div class="employer-category" data-en="Accounting" data-fr="Comptabilité">Ibaruramari</div>
                </div>
                <div class="employer-content">
                    <h3 class="employer-name">Rwanda Finance Group</h3>
                    <p class="employer-position">Senior Accountant</p>
                    
                    <div class="employer-details">
                        <div class="employer-detail-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Musanze, Rwanda</span>
                        </div>
                        <div class="employer-detail-item">
                            <i class="fas fa-envelope"></i>
                            <span>careers@rwandafinance.rw</span>
                        </div>
                        <div class="employer-detail-item">
                            <i class="fas fa-phone"></i>
                            <span>+250 789 456 123</span>
                        </div>
                    </div>
                    
                    <div class="employer-requirements">
                        <span class="requirement-tag">Financial Reporting</span>
                        <span class="requirement-tag">Tax Planning</span>
                        <span class="requirement-tag">Audit</span>
                    </div>
                    
                    <button class="view-profile-button" onclick="openSampleEmployerModal('Rwanda Finance Group', 'Senior Accountant', 'careers@rwandafinance.rw', '+250 789 456 123', 'Musanze', 'We are seeking an experienced accountant to manage our financial operations, prepare reports, and ensure compliance with tax regulations.', 'Masters degree in Accounting or Finance, 5+ years experience, CPA certification preferred.')">
                        <i class="fas fa-building"></i> 
                        <span data-en="View Details" data-fr="Voir Détails">Reba Ibisobanuro</span>
                    </button>
                </div>
            </div>
            
            <!-- Employer Card 3 -->
            <div class="employer-card fade-in delay-2">
                <div class="employer-image">
                    <img src="{% static 'images/nature.jpg' %}" alt="Employer Image">
                    <div class="employer-category" data-en="Engineering" data-fr="Ingénierie">Ubuhanga</div>
                </div>
                <div class="employer-content">
                    <h3 class="employer-name">BuildRwanda Engineering</h3>
                    <p class="employer-position">Civil Engineer</p>
                    
                    <div class="employer-details">
                        <div class="employer-detail-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Huye, Rwanda</span>
                        </div>
                        <div class="employer-detail-item">
                            <i class="fas fa-envelope"></i>
                            <span>hr@buildrwanda.com</span>
                        </div>
                        <div class="employer-detail-item">
                            <i class="fas fa-phone"></i>
                            <span>+250 782 345 678</span>
                        </div>
                    </div>
                    
                    <div class="employer-requirements">
                        <span class="requirement-tag">Project Management</span>
                        <span class="requirement-tag">AutoCAD</span>
                        <span class="requirement-tag">Structural Design</span>
                    </div>
                    
                    <button class="view-profile-button" onclick="openSampleEmployerModal('BuildRwanda Engineering', 'Civil Engineer', 'hr@buildrwanda.com', '+250 782 345 678', 'Huye', 'We are looking for a civil engineer to oversee infrastructure projects, ensure compliance with building codes, and collaborate with architects and contractors.', 'Bachelors degree in Civil Engineering, 7+ years experience in construction projects, proficiency with AutoCAD.')">
                        <i class="fas fa-building"></i> 
                        <span data-en="View Details" data-fr="Voir Détails">Reba Ibisobanuro</span>
                    </button>
                </div>
            </div>
            
            <!-- Employer Card 4 -->
            <div class="employer-card fade-in delay-3">
                <div class="employer-image">
                    <img src="{% static 'images/nature.jpg' %}" alt="Employer Image">
                    <div class="employer-category" data-en="Healthcare" data-fr="Santé">Ubuvuzi</div>
                </div>
                <div class="employer-content">
                    <h3 class="employer-name">Kigali Medical Center</h3>
                    <p class="employer-position">Registered Nurse</p>
                    
                    <div class="employer-details">
                        <div class="employer-detail-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Kigali, Rwanda</span>
                        </div>
                        <div class="employer-detail-item">
                            <i class="fas fa-envelope"></i>
                            <span>recruitment@kmc.rw</span>
                        </div>
                        <div class="employer-detail-item">
                            <i class="fas fa-phone"></i>
                            <span>+250 783 456 789</span>
                        </div>
                    </div>
                    
                    <div class="employer-requirements">
                        <span class="requirement-tag">Patient Care</span>
                        <span class="requirement-tag">Emergency Care</span>
                        <span class="requirement-tag">Medical Records</span>
                    </div>
                    
                    <button class="view-profile-button" onclick="openSampleEmployerModal('Kigali Medical Center', 'Registered Nurse', 'recruitment@kmc.rw', '+250 783 456 789', 'Kigali', 'We are seeking compassionate registered nurses to provide quality patient care in our hospital. You will be responsible for administering medication, monitoring patients, and assisting doctors.', 'Bachelors degree in Nursing, valid nursing license, minimum 3 years experience in a hospital setting.')">
                        <i class="fas fa-building"></i> 
                        <span data-en="View Details" data-fr="Voir Détails">Reba Ibisobanuro</span>
                    </button>
                </div>
            </div>
            
            <!-- Employer Card 5 -->
            <div class="employer-card fade-in">
                <div class="employer-image">
                    <img src="{% static 'images/nature.jpg' %}" alt="Employer Image">
                    <div class="employer-category" data-en="Education" data-fr="Éducation">Uburezi</div>
                </div>
                <div class="employer-content">
                    <h3 class="employer-name">Rwanda International Academy</h3>
                    <p class="employer-position">Mathematics Teacher</p>
                    
                    <div class="employer-details">
                        <div class="employer-detail-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Rubavu, Rwanda</span>
                        </div>
                        <div class="employer-detail-item">
                            <i class="fas fa-envelope"></i>
                            <span>jobs@ria.edu.rw</span>
                        </div>
                        <div class="employer-detail-item">
                            <i class="fas fa-phone"></i>
                            <span>+250 784 567 890</span>
                        </div>
                    </div>
                    
                    <div class="employer-requirements">
                        <span class="requirement-tag">Calculus</span>
                        <span class="requirement-tag">Statistics</span>
                        <span class="requirement-tag">Curriculum Development</span>
                    </div>
                    
                    <button class="view-profile-button" onclick="openSampleEmployerModal('Rwanda International Academy', 'Mathematics Teacher', 'jobs@ria.edu.rw', '+250 784 567 890', 'Rubavu', 'We are looking for a qualified mathematics teacher to join our secondary school. You will be responsible for teaching advanced mathematics to students and developing curriculum materials.', 'Masters degree in Mathematics or Education, 5+ years teaching experience, fluency in English and Kinyarwanda.')">
                        <i class="fas fa-building"></i> 
                        <span data-en="View Details" data-fr="Voir Détails">Reba Ibisobanuro</span>
                    </button>
                </div>
            </div>
            
            <!-- Employer Card 6 -->
            <div class="employer-card fade-in delay-1">
                <div class="employer-image">
                    <img src="{% static 'images/nature.jpg' %}" alt="Employer Image">
                    <div class="employer-category" data-en="Information Technology" data-fr="Technologie de l'Information">Ikoranabuhanga</div>
                </div>
                <div class="employer-content">
                    <h3 class="employer-name">Rwanda Networks Ltd</h3>
                    <p class="employer-position">Network Administrator</p>
                    
                    <div class="employer-details">
                        <div class="employer-detail-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Kigali, Rwanda</span>
                        </div>
                        <div class="employer-detail-item">
                            <i class="fas fa-envelope"></i>
                            <span>careers@rwandanetworks.com</span>
                        </div>
                        <div class="employer-detail-item">
                            <i class="fas fa-phone"></i>
                            <span>+250 785 678 901</span>
                        </div>
                    </div>
                    
                    <div class="employer-requirements">
                        <span class="requirement-tag">Cisco</span>
                        <span class="requirement-tag">Network Security</span>
                        <span class="requirement-tag">Troubleshooting</span>
                    </div>
                    
                    <button class="view-profile-button" onclick="openSampleEmployerModal('Rwanda Networks Ltd', 'Network Administrator', 'careers@rwandanetworks.com', '+250 785 678 901', 'Kigali', 'We are seeking a skilled network administrator to maintain our IT infrastructure, ensure network security, and provide technical support to staff.', 'Bachelors degree in IT or Computer Science, Cisco certifications, 4+ years experience in network administration.')">
                        <i class="fas fa-building"></i> 
                        <span data-en="View Details" data-fr="Voir Détails">Reba Ibisobanuro</span>
                    </button>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <!-- Pagination -->
        <div class="pagination">
            <a href="#" class="active">1</a>
            <a href="#">2</a>
            <a href="#">3</a>
            <a href="#">4</a>
            <a href="#"><i class="fas fa-angle-right"></i></a>
        </div>
    </div>
</section>

<!-- Login Modal -->
<div id="formModal" class="modal">
    <div class="modal-content">
        <span class="close-modal" id="closeModal">&times;</span>
        <h2 class="modal-title" data-en="Login" data-fr="Connexion">Login</h2>
        
        {% if messages %}
            {% for message in messages %}
                <div class="message">{{ message }}</div>
            {% endfor %}
        {% endif %}
        
        <form method="POST">
            {% csrf_token %}
            
            <div class="form-group">
                <label for="id_email" data-en="Email:" data-fr="Email:">Email:</label>
                <input type="email" id="id_email" name="email" class="search-input" required>
            </div>
            
            <div class="form-group">
                <label for="id_password" data-en="Password:" data-fr="Mot de passe:">Ijambo ryibanga:</label>
                <input type="password" id="id_password" name="password" class="search-input" required>
            </div>
            
            <button type="submit" class="search-button" data-en="Sign In" data-fr="Se Connecter">Injira</button>
        </form>
    </div>
</div>

<!-- Employer Details Modal -->
<div id="employerModal" class="modal">
    <div class="modal-content">
        <span class="close-modal" id="closeEmployerModal">&times;</span>
        <h2 class="modal-title" data-en="Employer Information" data-fr="Informations sur l'Employeur">Amakuru y'Umukoresha</h2>
        
        <div class="employer-modal-header">
            <img src="{% static 'images/nature.jpg' %}" alt="Employer Profile" id="employerModalImage">
            <div class="employer-modal-header-info">
                <h3 id="employerModalName"></h3>
                <p id="employerModalPosition"></p>
            </div>
        </div>
        
        <form id="employerEditForm" method="POST" action="" enctype="multipart/form-data">
            {% csrf_token %}
            
            <div class="employer-modal-section">
                <h4 data-en="General Information" data-fr="Informations Générales">Amakuru Rusange</h4>
                <div class="employer-info-grid">
                    <div class="form-group">
                        <label for="edit_company" data-en="Company Name:" data-fr="Nom de l'Entreprise:">Izina ry'Ikigo:</label>
                        <input type="text" id="edit_company" name="company" class="search-input" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="edit_position" data-en="Position:" data-fr="Poste:">Umwanya:</label>
                        <input type="text" id="edit_position" name="position" class="search-input" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="edit_email" data-en="Email:" data-fr="Email:">Email:</label>
                        <input type="email" id="edit_email" name="email" class="search-input" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="edit_phone" data-en="Phone:" data-fr="Téléphone:">Telefoni:</label>
                        <input type="tel" id="edit_phone" name="phone" class="search-input" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="edit_location" data-en="District:" data-fr="District:">Akarere:</label>
                        <input type="text" id="edit_location" name="location" class="search-input" required>
                    </div>
                </div>
            </div>
            
            <div class="employer-modal-section">
                <h4 data-en="Job Description" data-fr="Description du Poste">Ibisobanuro by'Akazi</h4>
                <div class="form-group">
                    <label for="edit_job_description" data-en="Description:" data-fr="Description:">Ibisobanuro:</label>
                    <textarea id="edit_job_description" name="job_description" class="search-input" rows="5" required></textarea>
                </div>
                
                <div class="form-group">
                    <label for="edit_job_requirements" data-en="Requirements:" data-fr="Exigences:">Ibisabwa:</label>
                    <textarea id="edit_job_requirements" name="job_requirements" class="search-input" rows="5" required></textarea>
                </div>
            </div>
            
            <div class="employer-modal-actions">
                <button type="button" class="cancel-button" id="cancelEmployerModal" data-en="Exit" data-fr="Sortir">Gusohoka</button>
                <button type="submit" class="edit-button" data-en="Edit" data-fr="Modifier">Hindura</button>
            </div>
        </form>
    </div>
</div>


    <!-- Footer -->
    <footer>
        <div class="footer-container">
            <div class="footer-grid">
                <div class="footer-column">
                    <h3>Kutwiga</h3>
                    <div class="footer-contact-item">
                        <i class="fas fa-phone"></i>
                        <div>
                            <p>+250793487065</p>
                        </div>
                    </div>
                    <div class="footer-contact-item">
                        <i class="fas fa-envelope"></i>
                        <div>
                            <p>murenzicharles24@gmail.com</p>
                        </div>
                    </div>
                    <div class="footer-contact-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <div>
                            <p>Kigali, Rwanda</p>
                        </div>
                    </div>
                    <div class="footer-social">
                        <a href="https://youtube.com/@murenzicharles" target="_blank"><i class="fab fa-youtube"></i></a>
                        <a href="https://www.instagram.com/murenzi893" target="_blank"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                    </div>
                </div>
                
                <div class="footer-column">
                    <h3>Ahukulile</h3>
                    <ul class="footer-links">
                        <li><a href="{% url 'home' %}"><i class="fas fa-chevron-right"></i> AHABANZA</a></li>
                        <li><a href="{% url 'worker' %}"><i class="fas fa-chevron-right"></i> ABAKOZI</a></li>
                        <li><a href="{% url 'employer' %}"><i class="fas fa-chevron-right"></i> ABAKORESHA</a></li>
                        <li><a href="{% url 'view_worker' %}"><i class="fas fa-chevron-right"></i> REBA UMUKOZI</a></li>
                        <li><a href="{% url 'view_employers' %}"><i class="fas fa-chevron-right"></i> REBA ABAKORESHA</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Serivisi</h3>
                    <ul class="footer-links">
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Gushaka Abakozi</a></li>
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Guhugura Abakozi</a></li>
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Guhuza Impano</a></li>
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Gusuzuma Abakandida</a></li>
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Kwamamaza Akazi</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Ibindi</h3>
                    <ul class="footer-links">
                        <li><a href="{% url 'what_we_do' %}"><i class="fas fa-chevron-right"></i> IBYO DUKORA</a></li>
                        <li><a href="{% url 'announcements' %}"><i class="fas fa-chevron-right"></i> AMATANGAZO</a></li>
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Politiki yo Kubungabunga Amakuru</a></li>
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Amabwiriza</a></li>
                        <li><a href="#"><i class="fas fa-chevron-right"></i> FAQs</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2024 JobLink - All Rights Reserved</p>
            </div>
        </div>
    </footer>
    <script>
  // Define functions outside of event listeners for global scope access
let currentLanguage = localStorage.getItem('preferredLanguage') || 'rw';

// Update modal content function - needs to be globally accessible
function updateModalContent(lang) {
    // Update all elements in modals with data-en or data-fr attributes
    document.querySelectorAll('.modal [data-' + lang + ']').forEach(element => {
        element.textContent = element.getAttribute('data-' + lang);
    });
}

// Update page content function
function updatePageContent(lang) {
    // Update all elements with data-en or data-fr attributes
    document.querySelectorAll('[data-' + lang + ']').forEach(element => {
        element.textContent = element.getAttribute('data-' + lang);
    });
    
    // Handle placeholders specifically
    document.querySelectorAll('input[data-placeholder-' + lang + ']').forEach(input => {
        input.placeholder = input.getAttribute('data-placeholder-' + lang);
    });
    
    // Update select option text
    document.querySelectorAll('select option').forEach(option => {
        if (option.getAttribute('data-' + lang)) {
            option.textContent = option.getAttribute('data-' + lang);
        }
    });
    
    // Update employer category texts specifically
    document.querySelectorAll('.employer-category').forEach(category => {
        if (category.getAttribute('data-' + lang)) {
            category.textContent = category.getAttribute('data-' + lang);
        }
    });
    
    // Update all button texts in employer cards
    document.querySelectorAll('.view-profile-button span').forEach(button => {
        if (button.getAttribute('data-' + lang)) {
            button.textContent = button.getAttribute('data-' + lang);
        }
    });
    
    // Update footer elements
    updateFooterContent(lang);
}

// Function to update footer content based on language
function updateFooterContent(lang) {
    // Footer titles
    const footerTitles = {
        en: ["Kutwiga", "Quick Links", "Services", "More Info"],
        fr: ["Kutwiga", "Liens Rapides", "Services", "Plus d'infos"],
        rw: ["Kutwiga", "Ahukulile", "Serivisi", "Ibindi"]
    };
    
    // Footer links
    const footerLinks = {
        en: {
            quickLinks: ["HOME", "WORKERS", "EMPLOYERS", "VIEW WORKER", "VIEW EMPLOYERS"],
            services: ["Find Workers", "Train Workers", "Match Talents", "Candidate Screening", "Job Advertising"],
            moreInfo: ["WHAT WE DO", "ANNOUNCEMENTS", "Privacy Policy", "Terms & Conditions", "FAQs"]
        },
        fr: {
            quickLinks: ["ACCUEIL", "EMPLOYÉS", "EMPLOYEURS", "VOIR EMPLOYÉ", "VOIR EMPLOYEURS"],
            services: ["Trouver des Employés", "Former des Employés", "Mettre en Relation", "Sélection de Candidats", "Publicité d'Emploi"],
            moreInfo: ["NOS SERVICES", "ANNONCES", "Politique de Confidentialité", "Conditions Générales", "FAQs"]
        },
        rw: {
            quickLinks: ["AHABANZA", "ABAKOZI", "ABAKORESHA", "REBA UMUKOZI", "REBA ABAKORESHA"],
            services: ["Gushaka Abakozi", "Guhugura Abakozi", "Guhuza Impano", "Gusuzuma Abakandida", "Kwamamaza Akazi"],
            moreInfo: ["IBYO DUKORA", "AMATANGAZO", "Politiki yo Kubungabunga Amakuru", "Amabwiriza", "FAQs"]
        }
    };
    
    // Get footer columns
    const footerColumns = document.querySelectorAll('.footer-column');
    
    // Update footer titles
    if (footerColumns.length >= 4) {
        footerColumns[0].querySelector('h3').textContent = footerTitles[lang][0];
        footerColumns[1].querySelector('h3').textContent = footerTitles[lang][1];
        footerColumns[2].querySelector('h3').textContent = footerTitles[lang][2];
        footerColumns[3].querySelector('h3').textContent = footerTitles[lang][3];
        
        // Update quick links
        const quickLinksContainer = footerColumns[1].querySelector('.footer-links');
        if (quickLinksContainer) {
            const quickLinks = quickLinksContainer.querySelectorAll('li a');
            quickLinks.forEach((link, index) => {
                if (index < footerLinks[lang].quickLinks.length) {
                    // Keep the icon and update only the text
                    const icon = link.querySelector('i');
                    link.innerHTML = '';
                    if (icon) link.appendChild(icon);
                    link.innerHTML += ' ' + footerLinks[lang].quickLinks[index];
                }
            });
        }
        
        // Update services
        const servicesContainer = footerColumns[2].querySelector('.footer-links');
        if (servicesContainer) {
            const services = servicesContainer.querySelectorAll('li a');
            services.forEach((link, index) => {
                if (index < footerLinks[lang].services.length) {
                    // Keep the icon and update only the text
                    const icon = link.querySelector('i');
                    link.innerHTML = '';
                    if (icon) link.appendChild(icon);
                    link.innerHTML += ' ' + footerLinks[lang].services[index];
                }
            });
        }
        
        // Update more info
        const moreInfoContainer = footerColumns[3].querySelector('.footer-links');
        if (moreInfoContainer) {
            const moreInfo = moreInfoContainer.querySelectorAll('li a');
            moreInfo.forEach((link, index) => {
                if (index < footerLinks[lang].moreInfo.length) {
                    // Keep the icon and update only the text
                    const icon = link.querySelector('i');
                    link.innerHTML = '';
                    if (icon) link.appendChild(icon);
                    link.innerHTML += ' ' + footerLinks[lang].moreInfo[index];
                }
            });
        }
    }
    
    // Update footer copyright
    const footerCopyright = document.querySelector('.footer-bottom p');
    if (footerCopyright) {
        const copyrightText = {
            en: "© 2024 JobLink - All Rights Reserved",
            fr: "© 2024 JobLink - Tous Droits Réservés",
            rw: "© 2024 JobLink - Uburenganzira Bwose Bwabugenewe"
        };
        footerCopyright.textContent = copyrightText[lang];
    }
}

// Apply language changes to menu items
function applyLanguage(lang) {
    // Update current language display
    const currentLanguageSpan = document.getElementById('current-language');
    if (currentLanguageSpan) {
        currentLanguageSpan.textContent = lang.toUpperCase();
    }
    
    // Update menu items
    const menuItems = document.querySelectorAll('#main-menu li a, #openFormButton');
    
    menuItems.forEach(item => {
        if (lang === 'en') {
            if (item.getAttribute('data-en')) {
                item.textContent = item.getAttribute('data-en');
            }
        } else if (lang === 'fr') {
            if (item.getAttribute('data-fr')) {
                item.textContent = item.getAttribute('data-fr');
            }
        } else {
            // Reset to original Kinyarwanda
            if (item.id === 'openFormButton') {
                item.textContent = 'Kwinjira'; // Kinyarwanda for "login"
            } else {
                // Get original text from the URL path
                const href = item.getAttribute('href');
                if (href) {
                    const urlParts = href.split('/');
                    const pageName = urlParts[urlParts.length - 2] || 'home';
                    
                    switch(pageName) {
                        case 'home': item.textContent = 'AHABANZA'; break;
                        case 'worker': item.textContent = 'ABAKOZI'; break;
                        case 'employer': item.textContent = 'ABAKORESHA'; break;
                        case 'view_worker': item.textContent = 'REBA UMUKOZI'; break;
                        case 'view_employers': item.textContent = 'REBA ABAKORESHA'; break;
                        case 'what_we_do': item.textContent = 'IBYO DUKORA'; break;
                        case 'announcements': item.textContent = 'AMATANGAZO'; break;
                        default: break;
                    }
                }
            }
        }
    });
}

// Change language function - MAIN function for language change
function changeLanguage(lang) {
    currentLanguage = lang;
    
    // Update active button styling if exists
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.remove('active');
    });
    const activeLangBtn = document.querySelector(`.lang-btn:nth-child(${lang === 'rw' ? 1 : lang === 'en' ? 2 : 3})`);
    if (activeLangBtn) {
        activeLangBtn.classList.add('active');
    }
    
    // Apply all language changes
    applyLanguage(lang);
    updatePageContent(lang);
    updateModalContent(lang);
    
    // Save language preference to localStorage
    localStorage.setItem('preferredLanguage', lang);
}

// Open employer modal functions
function openEmployerModal(id, company, position, email, phone, location, job_description, job_requirements) {
    const employerEditForm = document.getElementById("employerEditForm");
    if (!employerEditForm) return;
    
    // Set action URL for the form - handle Django URL format
    let actionUrl = employerEditForm.action;
    // Extracting the base path
    let urlParts = actionUrl.split('/');
    // Check if the last part is a digit and replace it
    if (/^\d+$/.test(urlParts[urlParts.length - 2])) {
        urlParts[urlParts.length - 2] = id;
    } else {
        // If using the edit_employer URL pattern
        const editEmployerPath = 'edit_employer';
        const index = urlParts.indexOf(editEmployerPath);
        if (index !== -1 && index < urlParts.length - 1) {
            urlParts[index + 1] = id;
        }
    }
    employerEditForm.action = urlParts.join('/');
    
    // Fill in the form fields
    document.getElementById("edit_company").value = company;
    document.getElementById("edit_position").value = position;
    document.getElementById("edit_email").value = email;
    document.getElementById("edit_phone").value = phone;
    document.getElementById("edit_location").value = location;
    document.getElementById("edit_job_description").value = job_description;
    document.getElementById("edit_job_requirements").value = job_requirements;
    
    // Set display data
    document.getElementById("employerModalName").textContent = company;
    document.getElementById("employerModalPosition").textContent = position;
    
    // Apply current language to the modal
    updateModalContent(currentLanguage);
    
    // Show the modal
    document.getElementById("employerModal").style.display = "block";
}

// Open sample employer modal function
function openSampleEmployerModal(company, position, email, phone, location, job_description, job_requirements) {
    const employerEditForm = document.getElementById("employerEditForm");
    if (!employerEditForm) return;
    
    // Fill in the form fields
    document.getElementById("edit_company").value = company;
    document.getElementById("edit_position").value = position;
    document.getElementById("edit_email").value = email;
    document.getElementById("edit_phone").value = phone;
    document.getElementById("edit_location").value = location;
    document.getElementById("edit_job_description").value = job_description;
    document.getElementById("edit_job_requirements").value = job_requirements;
    
    // Set display data
    document.getElementById("employerModalName").textContent = company;
    document.getElementById("employerModalPosition").textContent = position;
    
    // Change form action for sample employers
    let urlParts = employerEditForm.action.split('/');
    // Find and replace the edit_employer part if it exists
    const editIndex = urlParts.indexOf('edit_employer');
    if (editIndex !== -1) {
        urlParts[editIndex] = 'employer';
        // Remove the ID parameter
        if (editIndex + 1 < urlParts.length) {
            urlParts.splice(editIndex + 1, 1);
        }
    }
    employerEditForm.action = urlParts.join('/');
    
    // Apply current language to the modal
    updateModalContent(currentLanguage);
    
    // Show the modal
    document.getElementById("employerModal").style.display = "block";
}

// Initialize everything when DOM is ready
document.addEventListener('DOMContentLoaded', function() {
    // Language dropdown elements
    const dropdownBtn = document.getElementById('language-dropdown-btn');
    const dropdownMenu = document.getElementById('language-dropdown-menu');
    const langRw = document.getElementById('lang-rw');
    const langEn = document.getElementById('lang-en');
    const langFr = document.getElementById('lang-fr');
    
    // Toggle dropdown if the elements exist
    if (dropdownBtn && dropdownMenu) {
        dropdownBtn.addEventListener('click', function(e) {
            e.stopPropagation();
            dropdownMenu.style.display = dropdownMenu.style.display === 'block' ? 'none' : 'block';
        });
        
        // Close dropdown when clicking outside
        document.addEventListener('click', function(e) {
            if (!dropdownBtn.contains(e.target) && !dropdownMenu.contains(e.target)) {
                dropdownMenu.style.display = 'none';
            }
        });
    }
    
    // Language selection event listeners
    if (langRw) {
        langRw.addEventListener('click', function() {
            changeLanguage('rw');
            dropdownMenu.style.display = 'none';
        });
    }
    
    if (langEn) {
        langEn.addEventListener('click', function() {
            changeLanguage('en');
            dropdownMenu.style.display = 'none';
        });
    }
    
    if (langFr) {
        langFr.addEventListener('click', function() {
            changeLanguage('fr');
            dropdownMenu.style.display = 'none';
        });
    }
    
    // Apply the saved language or default
    applyLanguage(currentLanguage);
    updatePageContent(currentLanguage);
    
    // Modal elements
    const loginModal = document.getElementById("formModal");
    const openLoginBtn = document.getElementById("openFormButton");
    const closeLoginModal = document.getElementById("closeModal");
    
    const employerModal = document.getElementById("employerModal");
    const closeEmployerModal = document.getElementById("closeEmployerModal");
    const cancelEmployerModal = document.getElementById("cancelEmployerModal");
    
    // Open login modal
    if (openLoginBtn && loginModal) {
        openLoginBtn.addEventListener("click", function(e) {
            e.preventDefault();
            loginModal.style.display = "block";
        });
    }
    
    // Close login modal
    if (closeLoginModal && loginModal) {
        closeLoginModal.addEventListener("click", function() {
            loginModal.style.display = "none";
        });
    }
    
    // Close employer modal via X button
    if (closeEmployerModal && employerModal) {
        closeEmployerModal.addEventListener("click", function() {
            employerModal.style.display = "none";
        });
    }
    
    // Close employer modal via Cancel button
    if (cancelEmployerModal && employerModal) {
        cancelEmployerModal.addEventListener("click", function() {
            employerModal.style.display = "none";
        });
    }
    
    // Close modals when clicking outside
    window.addEventListener("click", function(event) {
        if (loginModal && event.target == loginModal) {
            loginModal.style.display = "none";
        }
        if (employerModal && event.target == employerModal) {
            employerModal.style.display = "none";
        }
    });
    
    // Set up fade-in animation
    const fadeElements = document.querySelectorAll('.fade-in');
    if (fadeElements.length > 0 && 'IntersectionObserver' in window) {
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                }
            });
        }, { threshold: 0.1 });
        
        fadeElements.forEach(element => {
            observer.observe(element);
        });
    }
});
</script>
</body>
</html>>